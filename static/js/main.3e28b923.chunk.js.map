{"version":3,"sources":["components/Button/Button.module.css","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/SearchBar/SearchBar.jsx","components/Loader/Loader.jsx","components/Modal/Modal.jsx","components/Button/Button.jsx","services/apiServise.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","ImageGalleryItem","image","onClick","className","src","webformatURL","alt","largeImageURL","ImageGallery","images","map","id","SearchBar","state","query","handleChangeQuery","e","currentTarget","name","value","setState","handleSubmit","preventDefault","trim","toast","warn","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","props","onSubmit","reset","page","this","type","autoComplete","autoFocus","placeholder","onChange","Component","Loader","color","height","width","timeout","modalRoot","document","querySelector","Modal","handleCloseModalbyEscBtn","code","onCloseModal","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","children","Button","addImgs","s","loadMoreBtn","axios","defaults","baseURL","fetchPictures","get","then","resp","data","hits","App","loader","showModal","modalImg","error","searchData","downloadImages","toggleLoader","response","prevState","finally","length","theme","resetState","handleChosenImg","toggleModal","dataset","img","prevProps","scrollTo","top","documentElement","scrollHeight","behavior","btnName","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,YAAc,8B,gLCqBjBC,EAnBU,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,MAAOC,EAAc,EAAdA,QACjC,OACE,oBAAIC,UAAU,mBAAd,SACE,qBACEC,IAAKH,EAAMI,aACXC,IAAI,GACJH,UAAU,yBACVD,QAASA,EACT,WAAUD,EAAMM,mBCQTC,EAfM,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,OAAQP,EAAc,EAAdA,QAC9B,OACE,oBAAIC,UAAU,eAAd,SACGM,EAAOC,KAAI,SAACT,GAAD,OACV,cAAC,EAAD,CAAkBA,MAAOA,EAAsBC,QAASA,GAAnBD,EAAMU,U,eCL7CC,E,4MACJC,MAAQ,CACNC,MAAO,I,EAGTC,kBAAoB,SAACC,GACnB,MAAwBA,EAAEC,cAAlBC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,MACd,EAAKC,SAAL,eACGF,EAAOC,K,EAIZE,aAAe,SAACL,GAEd,GADAA,EAAEM,kBACG,EAAKT,MAAMC,MAAMS,OACpB,OAAOC,IAAMC,KAAK,4BAA6B,CAC7CC,SAAU,YACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,IAEd,EAAKC,MAAMC,SAAS,EAAKtB,MAAMC,OAC/B,EAAKM,SAAS,CACZN,MAAO,KAET,EAAKoB,MAAME,MAAM,CAAEC,KAAM,K,4CAG3B,WACE,OACE,wBAAQlC,UAAU,YAAlB,SACE,uBAAMA,UAAU,aAAagC,SAAUG,KAAKjB,aAA5C,UACE,wBAAQkB,KAAK,SAASpC,UAAU,oBAAhC,SACE,sBAAMA,UAAU,0BAAhB,sBAGF,uBACEe,KAAK,QACLC,MAAOmB,KAAKzB,MAAMC,MAClBX,UAAU,mBACVoC,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZC,SAAUL,KAAKvB,6B,GA/CH6B,aAsDThC,I,uBC1CAiC,MAZf,WACE,OACE,cAAC,IAAD,CACEN,KAAK,QACLO,MAAM,UACNC,OAAQ,IACRC,MAAO,IACPC,QAAS,OCPTC,EAAYC,SAASC,cAAc,eAEnCC,E,4MASJC,yBAA2B,SAACtC,GACX,WAAXA,EAAEuC,MACJ,EAAKrB,MAAMsB,gB,EAIfC,oBAAsB,SAACzC,GACjBA,EAAEC,gBAAkBD,EAAE0C,QACxB,EAAKxB,MAAMsB,gB,uDAhBf,WACEG,OAAOC,iBAAiB,UAAWtB,KAAKgB,4B,kCAG1C,WACEK,OAAOE,oBAAoB,UAAWvB,KAAKgB,4B,oBAc7C,WACE,OAAOQ,uBACL,qBAAK3D,UAAU,UAAUD,QAASoC,KAAKmB,oBAAvC,SACE,qBAAKtD,UAAU,QAAf,SACGmC,KAAKJ,MAAM6B,aAIhBb,O,GA5BcN,aAiCLS,I,iBCtBAW,MAZf,YAA8B,IAAZC,EAAW,EAAXA,QAChB,OACE,wBAAQ/D,QAAS+D,EAAS9D,UAAW+D,IAAEC,YAAvC,0B,iBCLJC,IAAMC,SAASC,QAAU,0BAGlB,SAASC,EAAczD,EAAOuB,GACnC,OAAO+B,IACJI,IADI,sDAE4C1D,EAF5C,iBAE0DuB,EAF1D,4BAHO,uCAOXoC,MAAK,SAACC,GAAD,OAAUA,EAAKC,KAAKC,Q,UCExBC,E,4MACJhE,MAAQ,CACNC,MAAO,GACPuB,KAAM,EACN5B,OAAQ,GACRqE,QAAQ,EACRC,WAAW,EACXC,SAAU,GACVC,MAAO,M,EAgBT5D,aAAe,SAAC6D,GACd,EAAK9D,SAAS,CAAEN,MAAOoE,EAAY7C,KAAM,K,EAG3C8C,eAAiB,SAACnE,GAChB,MAAwB,EAAKH,MAArBC,EAAR,EAAQA,MAAOuB,EAAf,EAAeA,KAaf,GAZA,EAAK+C,eAELb,EAAczD,EAAOuB,GAClBoC,MAAK,SAACY,GAAD,OACJ,EAAKjE,UAAS,SAACkE,GAAD,MAAgB,CAC5B7E,OAAO,GAAD,mBAAM6E,EAAU7E,QAAhB,YAA2B4E,IACjChD,KAAMiD,EAAUjD,KAAO,SAI1BkD,SAAQ,kBAAM,EAAKH,kBAEW,IAA7B,EAAKvE,MAAMJ,OAAO+E,OACpB,OAAOhE,IAAMyD,MAAN,yBAA8B,EAAKpE,MAAMC,OAAS,CACvD2E,MAAO,UACP9D,UAAW,O,EAKjB+D,WAAa,WACX,EAAKtE,SAAS,CACZX,OAAQ,GACR4B,KAAM,K,EAIVsD,gBAAkB,SAAC3E,GACjBA,EAAEM,iBACF,EAAKsE,cACL,EAAKxE,SAAS,CAAE4D,SAAUhE,EAAE0C,OAAOmC,QAAQC,O,EAG7CV,aAAe,WACb,EAAKhE,UAAS,SAACkE,GAAD,MAAgB,CAAER,QAASQ,EAAUR,Y,EAGrDc,YAAc,WACZ,EAAKxE,UAAS,SAACkE,GAAD,MAAgB,CAAEP,WAAYO,EAAUP,e,wDAzDxD,SAAmBgB,EAAWT,GACJA,EAAUxE,QACVwB,KAAKzB,MAAMC,OAEjCwB,KAAK6C,iBAGPxB,OAAOqC,SAAS,CACdC,IAAK9C,SAAS+C,gBAAgBC,aAC9BC,SAAU,a,oBAmDd,WACE,MAAuD9D,KAAKzB,MAApDC,EAAR,EAAQA,MAAOL,EAAf,EAAeA,OAAQqE,EAAvB,EAAuBA,OAAQC,EAA/B,EAA+BA,UAAWC,EAA1C,EAA0CA,SAC1C,OACE,sBAAK7E,UAAU,MAAf,UACE,cAAC,EAAD,CACEW,MAAOA,EAEPqB,SAAUG,KAAKjB,aACfe,MAAOE,KAAKoD,eAEXjF,EAAO+E,QACR,qCACE,cAAC,EAAD,CAAc/E,OAAQA,EAAQP,QAASoC,KAAKqD,kBAC5C,cAAC,EAAD,CAAQ1B,QAAS3B,KAAK6C,eAAgBkB,QAAS,iBAGlDtB,GACC,cAAC,EAAD,CAAOvB,aAAclB,KAAKsD,YAA1B,SACE,qBAAKxF,IAAK4E,EAAU1E,IAAI,OAG3BwE,GAAU,cAAC,EAAD,IACX,cAAC,IAAD,CAAgBpD,SAAS,YAAYC,UAAW,KAAM8D,MAAM,gB,GA7FlD7C,aAmGHiC,IClGAyB,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB/B,MAAK,YAAkD,IAA/CgC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF7D,SAAS8D,eAAe,SAM1BX,M","file":"static/js/main.3e28b923.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"loadMoreBtn\":\"Button_loadMoreBtn__2RHco\"};","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst ImageGalleryItem = ({ image, onClick }) => {\r\n  return (\r\n    <li className=\"ImageGalleryItem\">\r\n      <img\r\n        src={image.webformatURL}\r\n        alt=\"\"\r\n        className=\"ImageGalleryItem-image\"\r\n        onClick={onClick}\r\n        data-img={image.largeImageURL}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  image: PropTypes.array.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"./ImageGalleryItem/ImageGalleryItem\";\r\n\r\nconst ImageGallery = ({ images, onClick }) => {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {images.map((image) => (\r\n        <ImageGalleryItem image={image} key={image.id} onClick={onClick} />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.array.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nclass SearchBar extends Component {\r\n  state = {\r\n    query: \"\",\r\n  };\r\n\r\n  handleChangeQuery = (e) => {\r\n    const { name, value } = e.currentTarget;\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (!this.state.query.trim())\r\n      return toast.warn(\"Please enter your request\", {\r\n        position: \"top-right\",\r\n        autoClose: 2000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({\r\n      query: \"\",\r\n    });\r\n    this.props.reset({ page: 1 });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            name=\"query\"\r\n            value={this.state.query}\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleChangeQuery}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\nexport default SearchBar;\r\n","import NewLoader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nfunction Loader() {\r\n  return (\r\n    <NewLoader\r\n      type=\"Watch\"\r\n      color=\"#3f51b5\"\r\n      height={100}\r\n      width={100}\r\n      timeout={3000} //3 secs\r\n    />\r\n  );\r\n}\r\n\r\nexport default Loader;\r\n","import React, { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleCloseModalbyEscBtn);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleCloseModalbyEscBtn);\r\n  }\r\n\r\n  handleCloseModalbyEscBtn = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onCloseModal();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onCloseModal();\r\n    }\r\n  };\r\n  render() {\r\n    return createPortal(\r\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\r\n        <div className=\"Modal\">\r\n          {this.props.children}\r\n          {/* <img src={image} alt=\"\" /> */}\r\n        </div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./Button.module.css\";\r\n\r\nfunction Button({ addImgs }) {\r\n  return (\r\n    <button onClick={addImgs} className={s.loadMoreBtn}>\r\n      Load more..\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  addImgs: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import axios from \"axios\";\r\naxios.defaults.baseURL = \"https://pixabay.com/api\";\r\nconst API_KEY = \"22450020-f32da86f0216f1b7b94b605ba\";\r\n\r\nexport function fetchPictures(query, page) {\r\n  return axios\r\n    .get(\r\n      `/?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=12&key=${API_KEY}`\r\n    )\r\n    .then((resp) => resp.data.hits);\r\n}\r\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport SearchBar from \"./components/SearchBar/SearchBar\";\nimport Loader from \"./components/Loader/Loader\";\nimport Modal from \"./components/Modal/Modal\";\nimport Button from \"./components/Button/Button\";\nimport { fetchPictures } from \"./services/apiServise\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nclass App extends Component {\n  state = {\n    query: \"\",\n    page: 1,\n    images: [],\n    loader: false,\n    showModal: false,\n    modalImg: \"\",\n    error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevSearchQuery = prevState.query;\n    const nextSearchQuery = this.state.query;\n    if (prevSearchQuery !== nextSearchQuery) {\n      this.downloadImages();\n    }\n\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  }\n\n  handleSubmit = (searchData) => {\n    this.setState({ query: searchData, page: 1 });\n  };\n\n  downloadImages = (e) => {\n    const { query, page } = this.state;\n    this.toggleLoader();\n\n    fetchPictures(query, page)\n      .then((response) =>\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...response],\n          page: prevState.page + 1,\n        }))\n      )\n      // .catch((error) => toast.error(`no results for ${this.state.query}`))\n      .finally(() => this.toggleLoader());\n\n    if (this.state.images.length === 0) {\n      return toast.error(`no results for ${this.state.query}`, {\n        theme: \"colored\",\n        autoClose: 4000,\n      });\n    }\n  };\n\n  resetState = () => {\n    this.setState({\n      images: [],\n      page: 1,\n    });\n  };\n\n  handleChosenImg = (e) => {\n    e.preventDefault();\n    this.toggleModal();\n    this.setState({ modalImg: e.target.dataset.img });\n  };\n\n  toggleLoader = () => {\n    this.setState((prevState) => ({ loader: !prevState.loader }));\n  };\n\n  toggleModal = () => {\n    this.setState((prevState) => ({ showModal: !prevState.showModal }));\n  };\n\n  render() {\n    const { query, images, loader, showModal, modalImg } = this.state;\n    return (\n      <div className=\"App\">\n        <SearchBar\n          query={query}\n          // handleChange={this.handleChangeQuery}\n          onSubmit={this.handleSubmit}\n          reset={this.resetState}\n        />\n        {!!images.length && (\n          <>\n            <ImageGallery images={images} onClick={this.handleChosenImg} />\n            <Button addImgs={this.downloadImages} btnName={\"Load more\"} />\n          </>\n        )}\n        {showModal && (\n          <Modal onCloseModal={this.toggleModal}>\n            <img src={modalImg} alt=\"\" />\n          </Modal>\n        )}\n        {loader && <Loader />}\n        <ToastContainer position=\"top-right\" autoClose={2500} theme=\"dark\" />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}